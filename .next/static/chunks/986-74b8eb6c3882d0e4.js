(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[986],{4986:function(t,e,a){Promise.resolve().then(a.bind(a,9698))},9698:function(t,e,a){"use strict";a.d(e,{default:function(){return A}});var s=a(7437),i=a(2265),o=a(7648),l=a(9376),n=JSON.parse('{"app":{"name":"SOSG Running Club Hub","platform":"mobile_web_pwa","design":{"layout":"mobile_first","navigation":"bottom_tabs","tone":"warm_supportive_coaching","privacyDefault":"strict"},"roles":["CAREGIVER","COACH","ADMIN"]},"state":{"role":"COACH","authed":false,"athleteListSearch":"","athleteListSort":"Active","athleteListPage":1,"athleteListPages":2,"athleteListTotal":32,"athleteListPageSize":20,"currentDetailTab":"feed","timelineFilter":"all","uiState":{"activeModal":null,"cuesSidebarExpanded":true,"selectedActivityId":null},"strava":{"accessTokenPresent":false,"lastImportAt":null,"hashtag":"#sosg","autoImportEnabled":true,"importRules":{"mode":"TAG","timeWindowMinutes":240}}},"routes":{"initial":"login","tabs":[{"id":"tab_athletes","label":"Athletes","icon":"\uD83D\uDC65","route":"athlete_list"},{"id":"tab_profile","label":"Profile","icon":"⚙️","route":"profile"}]},"screens":[{"id":"login","title":"SOSG Running Club","route":"login","layout":{"type":"centered"},"components":[{"type":"textInput","id":"email","props":{"label":"Email","placeholder":"name@example.com"}},{"type":"passwordInput","id":"password","props":{"label":"Password"}},{"type":"select","id":"role_selector","props":{"label":"Role","options":["CAREGIVER","COACH","ADMIN"],"default":"COACH"},"actions":[{"type":"setState","path":"state.role","value":"{{value}}"}]},{"type":"button","id":"btn_login","props":{"label":"Login"},"actions":[{"type":"setState","path":"state.authed","value":true},{"type":"navigate","to":"athlete_list"}]},{"type":"link","id":"link_register","props":{"text":"Don\'t have an account? Register"},"actions":[{"type":"navigate","to":"register"}]}]},{"id":"athlete_list","title":"Athletes","route":"athlete_list","layout":{"type":"list"},"components":[{"type":"searchBar","id":"athlete_search","props":{"placeholder":"Search athletes...","autoFocus":true}},{"type":"segmentedControl","id":"athlete_sort","props":{"options":["Name","Active"],"default":"Active","stateBinding":"state.athleteListSort"},"actions":[{"type":"setState","path":"state.athleteListSort","value":"{{value}}"}]},{"type":"list","id":"athlete_cards","props":{"itemTemplate":"athleteCard","infiniteScroll":true},"dataBinding":"mockData.filteredAthletes","emptyState":{"title":"No athletes found","message":"Try adjusting your search or filters"},"actions":[{"type":"navigate","to":"athlete_detail","with":{"athleteId":"{{item.id}}"}}]},{"type":"text","id":"athletes_count","props":{"text":"Showing {{mockData.filteredAthletes.length}} athlete(s)"},"dataBinding":"mockData.filteredAthletes"},{"type":"kvList","id":"pagination_info","props":{"items":[{"k":"Page","v":"{{state.athleteListPage}} of {{state.athleteListPages}}"},{"k":"Total","v":"{{state.athleteListTotal}} athletes"}]}},{"type":"card","id":"pagination_controls","props":{"title":""},"components":[{"type":"button","id":"btn_prev_page","props":{"label":"← Previous"},"actions":[{"type":"setState","path":"state.athleteListPage","value":"{{state.athleteListPage - 1}}"}]},{"type":"button","id":"btn_next_page","props":{"label":"Next →"},"actions":[{"type":"setState","path":"state.athleteListPage","value":"{{state.athleteListPage + 1}}"}]}]}]},{"id":"athlete_detail","title":"Athlete Hub","route":"athlete_detail/:athleteId","layout":{"type":"stack"},"onEnter":[{"type":"selectAthleteByRouteParam","param":"athleteId","from":"mockData.athletesFull","target":"mockData.selectedAthlete"},{"type":"setState","path":"state.uiState.activeModal","value":null},{"type":"setState","path":"state.currentDetailTab","value":"feed"},{"type":"autoSyncStrava"}],"components":[{"type":"header","id":"hdr_athlete","props":{"leftAction":{"type":"navigate","to":"athlete_list"},"titleBinding":"mockData.selectedAthlete.name","rightIcon":"⚙️"},"actions":[{"type":"navigate","to":"athlete_settings","with":{"athleteId":"{{route.athleteId}}"}}]},{"type":"card","id":"card_athlete_stats","props":{"title":"Overview","className":"card-stats"},"components":[{"type":"kvList","id":"stats_list","props":{"items":[{"k":"Sessions","v":"{{mockData.selectedAthlete.sessionCount}}","icon":"\uD83C\uDFC3","className":"stat-row"},{"k":"Last activity","v":"{{mockData.selectedAthlete.lastActivityFormatted}}","icon":"\uD83D\uDCC5","className":"stat-row"},{"k":"Status","v":"{{mockData.selectedAthlete.status}}","icon":"✓","className":"stat-row"}]}}]},{"type":"segmentedControl","id":"detail_tabs","props":{"options":[{"label":"Feed","value":"feed"},{"label":"Cues","value":"cues"},{"label":"Settings","value":"settings"}],"default":"feed","stateBinding":"state.currentDetailTab"},"actions":[{"type":"setState","path":"state.currentDetailTab","value":"{{value}}"}]},{"type":"conditionalRender","id":"tab_feed","condition":"{{state.currentDetailTab === \'feed\'}}","components":[{"type":"segmentedControl","id":"timeline_filter","props":{"options":[{"label":"All","value":"all"},{"label":"Sessions","value":"session"},{"label":"Notes","value":"note"}],"default":"all","stateBinding":"state.timelineFilter"},"actions":[{"type":"setState","path":"state.timelineFilter","value":"{{value}}"}]},{"type":"list","id":"timeline_feed","props":{"itemTemplate":"timelineCard","className":"feed-container"},"dataBinding":"mockData.selectedAthlete.timeline","filterBinding":{"controlId":"timeline_filter","map":{"all":"*","session":"session","note":"note","milestone":"milestone"}},"emptyState":{"title":"No activities yet","message":"Add a session or enable Strava to start the athlete\'s journey."},"actions":[{"type":"setState","path":"state.uiState.selectedActivityId","value":"{{item.id}}"},{"type":"setState","path":"state.uiState.activeModal","value":"addNote"}]},{"type":"actionBar","id":"feed_actions","props":{"style":"sticky_bottom"},"components":[{"type":"button","id":"btn_add_session","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Add Session"},"actions":[{"type":"setState","path":"state.uiState.activeModal","value":"addSession"}]},{"type":"button","id":"btn_import_strava","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Import Strava"},"actions":[{"type":"conditionalNavigate","if":"state.strava.accessTokenPresent","to":"strava_import_review","elseTo":"strava_connect_init","with":{"athleteId":"{{route.athleteId}}"}}]}]}]},{"type":"conditionalRender","id":"tab_cues","condition":"{{state.currentDetailTab === \'cues\'}}","components":[{"type":"card","id":"card_cues","props":{"title":"What Works","collapsible":false},"dataBinding":"mockData.selectedAthlete.cues","components":[{"type":"kvList","id":"cues_list","props":{"items":[{"k":"Helps","v":"{{data.helps || \'Not set\'}}"},{"k":"Avoid","v":"{{data.avoids || \'Not set\'}}"},{"k":"Best cues","v":"{{data.bestCues || \'Not set\'}}"},{"k":"Kit","v":"{{data.kit || \'Not set\'}}"}]}}],"footerActions":[{"type":"button","id":"btn_edit_cues","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Edit cues"},"actions":[{"type":"navigate","to":"edit_cues","with":{"athleteId":"{{route.athleteId}}"}}]}]}]},{"type":"conditionalRender","id":"tab_settings","condition":"{{state.currentDetailTab === \'settings\'}}","components":[{"type":"sectionTitle","id":"sec_privacy","props":{"text":"Privacy & Consent"}},{"type":"toggle","id":"consent_photos","props":{"label":"Allow photos in timeline","default":false}},{"type":"toggle","id":"consent_location","props":{"label":"Show route/maps to coaches","default":false}},{"type":"divider","id":"div1"},{"type":"sectionTitle","id":"sec_strava","props":{"text":"Strava Settings"}},{"type":"text","id":"strava_status","props":{"text":"{{state.strava.accessTokenPresent ? \'✓ Connected to Strava\' : \'Not connected\'}}"}},{"type":"textInput","id":"strava_hashtag","props":{"label":"Hashtag for auto-sync","placeholder":"#sosg","value":"{{state.strava.hashtag}}"},"actions":[{"type":"setState","path":"state.strava.hashtag","value":"{{value}}"}]},{"type":"button","id":"btn_connect_strava","visibility":{"condition":"{{!state.strava.accessTokenPresent}}"},"props":{"label":"Connect Strava"},"actions":[{"type":"navigate","to":"strava_connect_init","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"type":"conditionalRender","id":"modal_add_note","condition":"{{state.uiState.activeModal === \'addNote\'}}","components":[{"type":"modalOverlay","id":"overlay_add_note","props":{"title":"Add Coach Note"},"onClose":[{"type":"setState","path":"state.uiState.activeModal","value":null}],"components":[{"type":"emojiPicker","id":"modal_mood_before","props":{"label":"Mood before"}},{"type":"emojiPicker","id":"modal_mood_after","props":{"label":"Mood after"}},{"type":"textArea","id":"modal_went_well","props":{"label":"What went well","maxChars":120}},{"type":"textArea","id":"modal_was_hard","props":{"label":"What was hard","maxChars":120}},{"type":"textArea","id":"modal_next_time","props":{"label":"Next time: do / avoid","maxChars":120}},{"type":"button","id":"btn_modal_save_note","props":{"label":"Save Note"},"actions":[{"type":"mutateMock","target":"mockData.selectedAthlete.timeline","operation":"prepend","valueTemplate":"mockTemplates.newNote"},{"type":"setState","path":"state.uiState.activeModal","value":null}]}]}]},{"type":"conditionalRender","id":"modal_add_session","condition":"{{state.uiState.activeModal === \'addSession\'}}","components":[{"type":"modalOverlay","id":"overlay_add_session","props":{"title":"Add Session"},"onClose":[{"type":"setState","path":"state.uiState.activeModal","value":null}],"components":[{"type":"dateTimePicker","id":"modal_session_time","props":{"label":"Date & time"}},{"type":"numberInput","id":"modal_distance_km","props":{"label":"Distance (km)","step":0.1}},{"type":"numberInput","id":"modal_moving_minutes","props":{"label":"Moving time (min)","step":1}},{"type":"select","id":"modal_effort","props":{"label":"Effort","options":["Easy","OK","Hard"],"default":"OK"}},{"type":"button","id":"btn_modal_save_session","props":{"label":"Save Session"},"actions":[{"type":"mutateMock","target":"mockData.selectedAthlete.timeline","operation":"prepend","valueTemplate":"mockTemplates.newSessionManual"},{"type":"setState","path":"state.uiState.activeModal","value":null}]}]}]}]},{"id":"athlete_timeline","title":"Athlete Timeline","route":"athlete_timeline/:athleteId","layout":{"type":"stack"},"onEnter":[{"type":"selectAthleteByRouteParam","param":"athleteId","from":"mockData.athletesFull","target":"mockData.selectedAthlete"}],"components":[{"type":"header","id":"hdr_athlete","props":{"leftAction":{"type":"navigate","to":"athlete_list"},"titleBinding":"mockData.selectedAthlete.name","rightIcon":"⚙️"},"actions":[{"type":"navigate","to":"athlete_settings","with":{"athleteId":"{{route.athleteId}}"}}]},{"type":"card","id":"card_cues_pinned","props":{"title":"What works (pinned)","collapsible":true,"defaultCollapsed":false},"dataBinding":"mockData.selectedAthlete.cues","components":[{"type":"kvList","id":"cues_list","props":{"items":[{"k":"Helps","v":"{{data.helps}}"},{"k":"Avoid","v":"{{data.avoids}}"},{"k":"Best cues","v":"{{data.bestCues}}"},{"k":"Kit","v":"{{data.kit}}"}]}}],"footerActions":[{"type":"button","id":"btn_edit_cues","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Edit cues"},"actions":[{"type":"navigate","to":"edit_cues","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"type":"segmentedControl","id":"timeline_filter","props":{"options":["All","Sessions","Notes","Milestones","Photos"],"default":"All"}},{"type":"list","id":"timeline_feed","props":{"itemTemplate":"timelineCard"},"dataBinding":"mockData.selectedAthlete.timeline","filterBinding":{"controlId":"timeline_filter","map":{"All":"*","Sessions":"session","Notes":"note","Milestones":"milestone","Photos":"photo"}},"emptyState":{"title":"No entries yet","message":"Add a coach note or a first session to start the athlete\'s journey."}},{"type":"actionBar","id":"timeline_actions","props":{"style":"sticky_bottom"},"components":[{"type":"button","id":"btn_add_note","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Add Note"},"actions":[{"type":"navigate","to":"add_coach_note","with":{"athleteId":"{{route.athleteId}}"}}]},{"type":"button","id":"btn_add_session","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Add Session"},"actions":[{"type":"navigate","to":"add_session","with":{"athleteId":"{{route.athleteId}}"}}]},{"type":"button","id":"btn_import_strava","visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"props":{"label":"Import Strava"},"actions":[{"type":"conditionalNavigate","if":"state.strava.accessTokenPresent","to":"strava_import_review","elseTo":"strava_connect_init","with":{"athleteId":"{{route.athleteId}}"}}]}]}]},{"id":"add_coach_note","title":"Add Coach Note","route":"add_coach_note/:athleteId","layout":{"type":"form"},"visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"components":[{"type":"emojiPicker","id":"mood_before","props":{"label":"Mood before"}},{"type":"emojiPicker","id":"mood_after","props":{"label":"Mood after"}},{"type":"textArea","id":"went_well","props":{"label":"What went well","maxChars":120}},{"type":"textArea","id":"was_hard","props":{"label":"What was hard","maxChars":120}},{"type":"textArea","id":"next_time","props":{"label":"Next time: do / avoid","maxChars":120}},{"type":"button","id":"btn_save_note","props":{"label":"Save Note"},"actions":[{"type":"mutateMock","target":"mockData.selectedAthlete.timeline","operation":"prepend","valueTemplate":"mockTemplates.newNote"},{"type":"navigate","to":"athlete_timeline","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"id":"add_session","title":"Add Session","route":"add_session/:athleteId","layout":{"type":"form"},"visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"components":[{"type":"dateTimePicker","id":"session_time","props":{"label":"Date & time"}},{"type":"numberInput","id":"distance_km","props":{"label":"Distance (km)","step":0.1}},{"type":"numberInput","id":"moving_minutes","props":{"label":"Moving time (min)","step":1}},{"type":"select","id":"effort","props":{"label":"Effort","options":["Easy","OK","Hard"],"default":"OK"}},{"type":"button","id":"btn_save_session","props":{"label":"Save Session"},"actions":[{"type":"mutateMock","target":"mockData.selectedAthlete.timeline","operation":"prepend","valueTemplate":"mockTemplates.newSessionManual"},{"type":"navigate","to":"athlete_timeline","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"id":"athlete_settings","title":"Athlete Settings","route":"athlete_settings/:athleteId","layout":{"type":"stack"},"onEnter":[{"type":"selectAthleteByRouteParam","param":"athleteId","from":"mockData.athletesFull","target":"mockData.selectedAthlete"}],"components":[{"type":"sectionTitle","id":"sec_privacy","props":{"text":"Privacy & Consent"}},{"type":"toggle","id":"consent_photos","props":{"label":"Allow photos in timeline","default":false}},{"type":"toggle","id":"consent_location","props":{"label":"Show route/maps to coaches","default":false}},{"type":"divider","id":"div1"},{"type":"sectionTitle","id":"sec_strava","props":{"text":"Strava"}},{"type":"button","id":"btn_strava_connect","props":{"label":"Connect Strava"},"actions":[{"type":"navigate","to":"strava_connect_init","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"id":"strava_connect_init","title":"Connect Strava","route":"strava_connect_init/:athleteId","layout":{"type":"stack"},"components":[{"type":"text","id":"strava_info","props":{"text":"Connect a Strava account to auto-import runs with your coaching hashtag. In production, this uses OAuth. For now, simulate the connection."}},{"type":"button","id":"btn_simulate_strava_connect","props":{"label":"Simulate Strava Connect"},"actions":[{"type":"setState","path":"state.strava.accessTokenPresent","value":true},{"type":"toast","message":"Strava connected (prototype)."},{"type":"navigate","to":"athlete_detail","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"id":"strava_import_review","title":"Import from Strava","route":"strava_import_review/:athleteId","layout":{"type":"stack"},"components":[{"type":"text","id":"rules_title","props":{"text":"Review & import Strava activities"}},{"type":"select","id":"import_mode","props":{"label":"Mode","options":["TAG","TIME_WINDOW"],"default":"TAG"},"actions":[{"type":"setState","path":"state.strava.importRules.mode","value":"{{value}}"}]},{"type":"textInput","id":"tag","props":{"label":"Tag (if TAG mode)","placeholder":"#sosg"}},{"type":"numberInput","id":"time_window","props":{"label":"Time window minutes (if TIME_WINDOW)","step":15}},{"type":"divider","id":"div2"},{"type":"list","id":"candidate_activities","props":{"itemTemplate":"stravaCandidateCard"},"dataBinding":"mockData.stravaCandidates"},{"type":"button","id":"btn_import_selected","props":{"label":"Import selected"},"actions":[{"type":"mutateMock","target":"mockData.selectedAthlete.timeline","operation":"prependMany","valueBinding":"mockData.stravaCandidatesSelectedAsTimelineEvents"},{"type":"setState","path":"state.strava.lastImportAt","value":"NOW"},{"type":"toast","message":"Imported (prototype)."},{"type":"navigate","to":"athlete_detail","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"id":"edit_cues","title":"Edit What Works","route":"edit_cues/:athleteId","layout":{"type":"form"},"visibility":{"roles":["CAREGIVER","COACH","ADMIN"]},"components":[{"type":"chipInput","id":"helps","props":{"label":"Helps (add multiple)"}},{"type":"chipInput","id":"avoids","props":{"label":"Avoid (add multiple)"}},{"type":"chipInput","id":"bestCues","props":{"label":"Best cues (add multiple)"}},{"type":"chipInput","id":"kit","props":{"label":"Kit (add multiple)"}},{"type":"button","id":"btn_save_cues","props":{"label":"Save"},"actions":[{"type":"toast","message":"Cues saved (prototype)."},{"type":"navigate","to":"athlete_detail","with":{"athleteId":"{{route.athleteId}}"}}]}]},{"id":"register","title":"Register","route":"register","layout":{"type":"centered"},"components":[{"type":"textInput","id":"email","props":{"label":"Email","placeholder":"name@example.com"}},{"type":"passwordInput","id":"password","props":{"label":"Password"}},{"type":"passwordInput","id":"confirm_password","props":{"label":"Confirm Password"}},{"type":"select","id":"role_selector","props":{"label":"Role","options":["CAREGIVER","COACH","ADMIN"],"default":"CAREGIVER"},"actions":[{"type":"setState","path":"state.role","value":"{{value}}"}]},{"type":"button","id":"btn_register","props":{"label":"Register"},"actions":[{"type":"setState","path":"state.authed","value":true},{"type":"navigate","to":"athlete_list"}]},{"type":"link","id":"link_login","props":{"text":"Already have an account? Login"},"actions":[{"type":"navigate","to":"login"}]}]},{"id":"profile","title":"Profile","route":"profile","layout":{"type":"stack"},"components":[{"type":"avatar","id":"user_avatar","props":{"placeholder":true}},{"type":"kvList","id":"user_info","props":{"items":[{"k":"Name","v":"Prototype User"},{"k":"Role","v":"{{state.role}}"}]}},{"type":"button","id":"btn_logout","props":{"label":"Logout"},"actions":[{"type":"setState","path":"state.authed","value":false},{"type":"navigate","to":"login"}]}]}],"templates":{"athleteCard":{"type":"card","className":"athlete-card","title":"{{item.name}}","subtitle":"Last active: {{item.lastActivityFormatted}}","meta":"{{item.sessionCount}} sessions • {{item.status}}"},"timelineCard":{"type":"card","className":"card-feed-item {{item.type }}","title":"{{item.icon}} {{item.title}}","subtitle":"{{item.subtitle}}","body":"{{item.body}}","rightContent":"{{item.date}}","badge":"{{item.source === \'STRAVA\' ? \'Auto-synced\' : \'\'}}"},"stravaCandidateCard":{"type":"card","title":"\uD83C\uDFC3 {{item.name}}","subtitle":"{{item.distanceKm}} km • {{item.movingMin}} min • {{item.date}}","body":"Tag: {{item.tag}} • Source: Strava","meta":"{{item.id}}"}},"mockData":{"athletes":[{"id":"a1","name":"Daniel","status":"active","lastActivity":"2025-02-15","lastActivityFormatted":"2 days ago","sessionCount":5,"latestMilestone":"5 sessions completed","lastSeen":"2 days ago"},{"id":"a2","name":"Ayesha","status":"active","lastActivity":"2025-02-14","lastActivityFormatted":"3 days ago","sessionCount":8,"latestMilestone":"First continuous 1km","lastSeen":"1 week ago"},{"id":"a3","name":"Marcus","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":12,"latestMilestone":"Milestone: 10 sessions","lastSeen":"Today"},{"id":"a4","name":"Emma","status":"active","lastActivity":"2025-02-16","lastActivityFormatted":"1 day ago","sessionCount":7,"latestMilestone":"Consistency week","lastSeen":"1 day ago"},{"id":"a5","name":"James","status":"inactive","lastActivity":"2025-01-20","lastActivityFormatted":"28 days ago","sessionCount":3,"latestMilestone":"Joined 2 weeks ago","lastSeen":"28 days ago"},{"id":"a6","name":"Sarah","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":15,"latestMilestone":"Longest streak: 14 days","lastSeen":"Today"},{"id":"a7","name":"Noah","status":"inactive","lastActivity":"2024-12-10","lastActivityFormatted":"69 days ago","sessionCount":2,"latestMilestone":"First run","lastSeen":"69 days ago"},{"id":"a8","name":"Olivia","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":9,"latestMilestone":"3 KM personal best","lastSeen":"Today"},{"id":"a9","name":"Liam","status":"active","lastActivity":"2025-02-10","lastActivityFormatted":"7 days ago","sessionCount":6,"latestMilestone":"5 sessions","lastSeen":"7 days ago"},{"id":"a10","name":"Ava","status":"inactive","lastActivity":"2025-01-05","lastActivityFormatted":"43 days ago","sessionCount":1,"latestMilestone":"First activity","lastSeen":"43 days ago"},{"id":"a11","name":"Ethan","status":"active","lastActivity":"2025-02-16","lastActivityFormatted":"1 day ago","sessionCount":11,"latestMilestone":"10 sessions","lastSeen":"1 day ago"},{"id":"a12","name":"Sophia","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":13,"latestMilestone":"2 week streak","lastSeen":"Today"},{"id":"a13","name":"Alexander","status":"inactive","lastActivity":"2025-01-15","lastActivityFormatted":"33 days ago","sessionCount":4,"latestMilestone":"4 sessions","lastSeen":"33 days ago"},{"id":"a14","name":"Isabella","status":"active","lastActivity":"2025-02-13","lastActivityFormatted":"4 days ago","sessionCount":10,"latestMilestone":"Consistency bonus","lastSeen":"4 days ago"},{"id":"a15","name":"Mason","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":8,"latestMilestone":"8 sessions","lastSeen":"Today"},{"id":"a16","name":"Mia","status":"inactive","lastActivity":"2024-11-20","lastActivityFormatted":"89 days ago","sessionCount":1,"latestMilestone":"Joined","lastSeen":"89 days ago"},{"id":"a17","name":"Benjamin","status":"active","lastActivity":"2025-02-12","lastActivityFormatted":"5 days ago","sessionCount":6,"latestMilestone":"Milestone","lastSeen":"5 days ago"},{"id":"a18","name":"Charlotte","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":14,"latestMilestone":"14 sessions","lastSeen":"Today"},{"id":"a19","name":"Lucas","status":"inactive","lastActivity":"2025-01-10","lastActivityFormatted":"38 days ago","sessionCount":2,"latestMilestone":"2 sessions","lastSeen":"38 days ago"},{"id":"a20","name":"Amelia","status":"active","lastActivity":"2025-02-16","lastActivityFormatted":"1 day ago","sessionCount":7,"latestMilestone":"7 sessions","lastSeen":"1 day ago"},{"id":"a21","name":"Michael","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":11,"latestMilestone":"11 sessions","lastSeen":"Today"},{"id":"a22","name":"Harper","status":"inactive","lastActivity":"2025-01-25","lastActivityFormatted":"23 days ago","sessionCount":3,"latestMilestone":"3 sessions","lastSeen":"23 days ago"},{"id":"a23","name":"William","status":"active","lastActivity":"2025-02-14","lastActivityFormatted":"3 days ago","sessionCount":9,"latestMilestone":"9 sessions","lastSeen":"3 days ago"},{"id":"a24","name":"Evelyn","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":16,"latestMilestone":"16 sessions","lastSeen":"Today"},{"id":"a25","name":"Henry","status":"inactive","lastActivity":"2024-12-01","lastActivityFormatted":"78 days ago","sessionCount":1,"latestMilestone":"Joined","lastSeen":"78 days ago"},{"id":"a26","name":"Abigail","status":"active","lastActivity":"2025-02-15","lastActivityFormatted":"2 days ago","sessionCount":8,"latestMilestone":"8 sessions","lastSeen":"2 days ago"},{"id":"a27","name":"Jacob","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":10,"latestMilestone":"10 sessions","lastSeen":"Today"},{"id":"a28","name":"Elizabeth","status":"inactive","lastActivity":"2025-02-01","lastActivityFormatted":"16 days ago","sessionCount":2,"latestMilestone":"2 sessions","lastSeen":"16 days ago"},{"id":"a29","name":"Jackson","status":"active","lastActivity":"2025-02-13","lastActivityFormatted":"4 days ago","sessionCount":5,"latestMilestone":"5 sessions","lastSeen":"4 days ago"},{"id":"a30","name":"Ella","status":"active","lastActivity":"2025-02-17","lastActivityFormatted":"Today","sessionCount":12,"latestMilestone":"12 sessions","lastSeen":"Today"},{"id":"a31","name":"Sebastian","status":"inactive","lastActivity":"2025-01-30","lastActivityFormatted":"18 days ago","sessionCount":3,"latestMilestone":"3 sessions","lastSeen":"18 days ago"},{"id":"a32","name":"Grace","status":"active","lastActivity":"2025-02-16","lastActivityFormatted":"1 day ago","sessionCount":9,"latestMilestone":"9 sessions","lastSeen":"1 day ago"}],"filteredAthletes":[],"athletesFull":[{"id":"a1","name":"Daniel","status":"active","sessionCount":5,"lastActivityFormatted":"2 days ago","lastActivity":"2025-02-15","cues":{"helps":"Countdown cues, run/walk 2/1, consistent route","avoids":"Sudden loud noises, mid-run route changes","bestCues":"2 more lamp posts, steady breathing","kit":"Water at 15 min, cap"},"timeline":[{"type":"session","source":"STRAVA","icon":"\uD83C\uDFC3","title":"Session","subtitle":"2.3 km • 24 min • Effort: OK","body":"Imported from Strava (tag #sosg).","date":"Sat 10:10","id":"t1"},{"type":"note","icon":"\uD83D\uDCDD","title":"Coach note","subtitle":"Mood \uD83D\uDE10 → \uD83D\uDE0A","body":"Went well: steady pace. Hard: tired at 20 min. Next: water at 15.","date":"Sat 10:35","id":"t2"},{"type":"milestone","icon":"\uD83C\uDF89","title":"Milestone","subtitle":"5 sessions completed","body":"Consistency win — keep it going.","date":"Sat 10:36","id":"t3"}]},{"id":"a2","name":"Ayesha","status":"active","sessionCount":8,"lastActivityFormatted":"3 days ago","lastActivity":"2025-02-14","cues":{"helps":"Short cues, predictable stops","avoids":"Crowded paths","bestCues":"One more minute","kit":"Water, sunglasses"},"timeline":[]}],"selectedAthlete":{"id":"a1","name":"Daniel","status":"active","sessionCount":5,"lastActivityFormatted":"2 days ago","cues":{"helps":"","avoids":"","bestCues":"","kit":""},"timeline":[]},"stravaCandidates":[{"id":"s101","name":"Morning Run","distanceKm":2.1,"movingMin":22,"date":"Sun 09:15","tag":"#sosg"},{"id":"s102","name":"Park Jog","distanceKm":3,"movingMin":31,"date":"Wed 18:40","tag":""}],"stravaCandidatesSelectedAsTimelineEvents":[{"type":"session","source":"STRAVA","icon":"\uD83C\uDFC3","title":"Session","subtitle":"2.1 km • 22 min • Effort: OK","body":"Imported from Strava.","date":"Just now"}]},"mockTemplates":{"newNote":{"type":"note","icon":"\uD83D\uDCDD","title":"Coach note","subtitle":"Mood \uD83D\uDE0A → \uD83D\uDE0A","body":"Went well: (from form). Hard: (from form). Next: (from form).","date":"Just now","id":"new-note-{{timestamp}}"},"newSessionManual":{"type":"session","source":"MANUAL","icon":"\uD83C\uDFC3","title":"Session","subtitle":"(from form) km • (from form) min • Effort: (from form)","body":"Added manually.","date":"Just now","id":"new-session-{{timestamp}}"}}}');let r=function(t){let e=[];for(let a of["app","state","routes","screens","templates","mockData","mockTemplates"])a in(t||{})||e.push("Missing required key: ".concat(a));return(Array.isArray(null==t?void 0:t.screens)?t.screens.forEach((t,a)=>{for(let s of["id","route","components"])s in(t||{})||e.push("screens[".concat(a,"] missing key: ").concat(s))}):e.push("screens must be an array"),e.length)?{ok:!1,errors:e}:{ok:!0,spec:t}}(n);function d(t,e){return e.split(".").reduce((t,e)=>null==t?void 0:t[e],t)}function c(t,e,a){let s=e.split("."),i=t;for(let t=0;t<s.length-1;t+=1){let e=s[t];(null==i[e]||"object"!=typeof i[e])&&(i[e]={}),i=i[e]}i[s[s.length-1]]=a}function p(t,e){return"string"!=typeof t?t:t.replace(/{{\s*([^}]+)\s*}}/g,(t,a)=>{let s=d(e,a.trim());return null==s?"":String(s)})}function u(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.screens.find(e=>e.id===t);if(!a)return"/";let s=a.route.replace(/:([A-Za-z0-9_]+)/g,(t,a)=>{var s;return null!==(s=e[a])&&void 0!==s?s:""});return"/".concat(s)}var m=a(9625);let y={state:structuredClone(n.state),mockData:structuredClone(n.mockData),mockTemplates:structuredClone(n.mockTemplates),controls:{},form:{},persistEnabled:!1},v=(0,m.Ue)((t,e)=>({...y,initPersistence:()=>{let a="1"===new URLSearchParams(window.location.search).get("persist");if(t({persistEnabled:a}),!a)return;let s=localStorage.getItem("sosg-store-v1");if(s)try{var i,o;let a=JSON.parse(s);t({state:null!==(i=a.state)&&void 0!==i?i:e().state,mockData:null!==(o=a.mockData)&&void 0!==o?o:e().mockData})}catch(t){}v.subscribe(t=>{localStorage.setItem("sosg-store-v1",JSON.stringify({state:t.state,mockData:t.mockData}))})},getByPath:t=>d(e(),t),setByPath:(e,a)=>{t(t=>{let s={...t,state:structuredClone(t.state),mockData:structuredClone(t.mockData),mockTemplates:structuredClone(t.mockTemplates),controls:{...t.controls},form:{...t.form}};return c(s,e,a),s})},setControl:(e,a)=>t(t=>({controls:{...t.controls,[e]:a}})),setFormValue:(e,a)=>t(t=>({form:{...t.form,[e]:a}})),mutateMock:(e,a,s)=>{t(t=>{var i;let o={...t,state:structuredClone(t.state),mockData:structuredClone(t.mockData),mockTemplates:structuredClone(t.mockTemplates),controls:{...t.controls},form:{...t.form}},l=null!==(i=d(o,e))&&void 0!==i?i:[];"prepend"===a&&l.unshift(s),"prependMany"===a&&l.unshift(...s),c(o,e,l);let n=o.mockData.selectedAthlete,r=o.mockData.athletesFull.map(t=>t.id===n.id?n:t);return o.mockData.athletesFull=r,o})},computeFilteredAthletes:()=>{t(t=>{let e={...t,state:structuredClone(t.state),mockData:structuredClone(t.mockData)},a=e.state.athleteListSearch||"",s=e.state.athleteListSort||"active",i=function(t,e,a){let s=t;if(e.trim()){let t=e.toLowerCase();s=s.filter(e=>e.name.toLowerCase().includes(t))}return"name"===a?s=s.sort((t,e)=>t.name.localeCompare(e.name)):("active"===a||"Active"===a)&&(s=s.sort((t,e)=>{let a="active"===t.status?0:1,s="active"===e.status?0:1;return a!==s?a-s:new Date(e.lastActivity).getTime()-new Date(t.lastActivity).getTime()})),s}(e.mockData.athletes,a,s),o=e.state.athleteListPageSize||20,l=Math.max(0,e.state.athleteListPage||0);return e.mockData.filteredAthletes=i.slice(0,(l+1)*o),e})},loadMoreAthletes:()=>{t(t=>({state:{...t.state,athleteListPage:(t.state.athleteListPage||0)+1}}))}}));function h(t,e){return null==t||!t.roles||t.roles.includes(e)}function g(t,e){try{let{store:a,routeParams:s,router:i}=e;if("setState"===t.type){let s=t.path,i=p(t.value,e);a.setByPath(s,i)}if("navigate"===t.type){let a=Object.fromEntries(Object.entries(t.with||{}).map(t=>{let[a,s]=t;return[a,p(s,e)]})),s=u(t.to,a);i&&i.push(s)}if("conditionalNavigate"===t.type){let s=!!a.getByPath(t.if),o=Object.fromEntries(Object.entries(t.with||{}).map(t=>{let[a,s]=t;return[a,p(s,e)]}));i.push(u(s?t.to:t.elseTo,o))}if("selectAthleteByRouteParam"===t.type){let e=a.getByPath(t.from)||[],i=s[t.param],o=e.find(t=>t.id===i);o&&a.setByPath(t.target,o)}if("mutateMock"===t.type&&(t.valueBinding&&a.mutateMock(t.target,t.operation,a.getByPath(t.valueBinding)),t.valueTemplate)){let e=structuredClone(a.getByPath(t.valueTemplate));"note"===e.type&&(e.body="Went well: ".concat(a.getByPath("form.went_well")||"(from form)",". Hard: ").concat(a.getByPath("form.was_hard")||"(from form)",". Next: ").concat(a.getByPath("form.next_time")||"(from form)",".")),a.mutateMock(t.target,t.operation,e)}if("autoSyncStrava"===t.type){let t=a.getByPath("state.strava.hashtag")||"#sosg",e=(a.getByPath("mockData.stravaCandidates")||[]).filter(e=>e.tag===t);if(e.length>0&&a.getByPath("state.strava.accessTokenPresent")){let t=e.map(t=>({type:"session",source:"STRAVA",icon:"\uD83C\uDFC3",title:"Session",subtitle:"".concat(t.distanceKm," km • ").concat(t.movingMin," min • Effort: OK"),body:"Auto-imported from Strava (".concat(t.name,")."),date:t.date,id:"strava-".concat(t.id)}));a.mutateMock("mockData.selectedAthlete.timeline","prependMany",t),a.setByPath("state.strava.lastImportAt",new Date().toISOString())}}}catch(e){console.error("[runAction-error]",e,t)}}function f(t){let{screenId:e,routeParams:a}=t,r=(0,i.useMemo)(()=>n.screens.find(t=>t.id===e),[e]),d=(0,l.useRouter)(),c=v();if((0,i.useEffect)(()=>{c.initPersistence()},[]),(0,i.useEffect)(()=>{!1===c.state.authed&&"login"!==e&&"register"!==e&&d.replace("/login")},[c.state.authed,e,d]),(0,i.useEffect)(()=>{var t;"athlete_detail"!==e||c.state.currentDetailTab||c.setByPath("state.currentDetailTab","feed"),null==r||null===(t=r.onEnter)||void 0===t||t.forEach(t=>g(t,{store:c,routeParams:a,route:a,router:d}))},[r,a,d]),(0,i.useEffect)(()=>{"athlete_list"===e&&0===c.mockData.filteredAthletes.length&&c.computeFilteredAthletes()},[e,c.mockData.filteredAthletes.length]),(0,i.useEffect)(()=>{"athlete_list"===e&&c.computeFilteredAthletes()},[c.state.athleteListSearch,c.state.athleteListSort,c.state.athleteListPage,e]),!r)return(0,s.jsxs)("div",{children:["Screen missing: ",e]});if(!h(r.visibility,c.state.role))return(0,s.jsxs)("div",{"data-testid":"screen-".concat(r.id),children:[(0,s.jsx)("p",{children:"Access denied"}),(0,s.jsx)(o.default,{href:"/athlete_list",children:"Go to athlete list"})]});let p={store:c,routeParams:a,route:a,state:c.state,data:null,router:d};return(0,s.jsxs)("main",{className:"page","data-testid":"screen-".concat(r.id),children:[(0,s.jsx)("h1",{children:r.title}),r.components.map(t=>h(t.visibility,c.state.role)?(0,s.jsx)(b,{component:t,ctx:p},t.id):null)]})}function b(t){var e,a,i,o,l,r,d,c,u,m,y,v,f,A,_,C,S,k,x,I,w,M,T;let{component:j,ctx:D,item:N,index:P}=t,E=D.store,B=E.state.role;if(!h(j.visibility,B))return null;let F=function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=null!==(t=a.item)&&void 0!==t?t:N;e.forEach(t=>g(t,{...D,...a,item:s}))},R=j.id;if("conditionalRender"===j.type)return p(j.condition,{...D,item:N})?(0,s.jsx)(s.Fragment,{children:null===(c=j.components)||void 0===c?void 0:c.map(t=>(0,s.jsx)(b,{component:t,ctx:D,item:N},t.id))}):null;if("modalOverlay"===j.type){let t=j.onClose||[];return(0,s.jsx)("div",{className:"modal-overlay",children:(0,s.jsxs)("div",{className:"modal-content",style:{maxHeight:"80vh",overflow:"auto"},children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h3",{style:{margin:0,flex:1},children:null===(u=j.props)||void 0===u?void 0:u.title}),(0,s.jsx)("button",{className:"modal-close",onClick:()=>F(t),children:"✕"})]}),(0,s.jsx)("div",{style:{padding:"var(--space-4)"},children:null===(m=j.components)||void 0===m?void 0:m.map(t=>(0,s.jsx)(b,{component:t,ctx:D},t.id))})]})})}if("text"===j.type)return(0,s.jsx)("p",{children:p(null===(e=j.props)||void 0===e?void 0:e.text,{...D,item:N})});if("divider"===j.type)return(0,s.jsx)("hr",{});if("image"===j.type||"avatar"===j.type)return(0,s.jsx)("div",{className:"card",children:(null===(a=j.props)||void 0===a?void 0:a.alt)||"Avatar"});if("sectionTitle"===j.type)return(0,s.jsx)("h2",{children:null===(i=j.props)||void 0===i?void 0:i.text});if("searchBar"===j.type)return(0,s.jsx)("input",{"data-testid":"search-".concat(R),placeholder:null===(y=j.props)||void 0===y?void 0:y.placeholder,value:E.state.athleteListSearch||"",onChange:t=>{E.setByPath("state.athleteListSearch",t.target.value),E.setByPath("state.athleteListPage",0)}});if("header"===j.type)return(0,s.jsxs)("div",{className:"card",children:[(0,s.jsx)("button",{onClick:()=>F([j.props.leftAction]),children:"Back"}),(0,s.jsx)("strong",{children:E.getByPath(j.props.titleBinding)}),(0,s.jsx)("button",{onClick:()=>F(j.actions),children:j.props.rightIcon})]});if("kvList"===j.type)return(0,s.jsx)("dl",{style:{display:"flex",flexDirection:"column",gap:"var(--space-3)",margin:0},children:j.props.items.map(t=>{let e=p(t.v,{...D,data:D.data,item:N});return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},className:t.className,children:[t.icon&&(0,s.jsx)("span",{style:{fontSize:"20px"},children:t.icon}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("dt",{style:{fontSize:"var(--text-meta)",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px",color:"var(--text-secondary)",margin:0},children:t.k}),(0,s.jsx)("dd",{style:{fontSize:"var(--text-body)",fontWeight:500,color:"var(--text)",margin:"2px 0 0 0"},children:e})]})]},t.k)})});if("toggle"===j.type)return(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{"data-testid":"toggle-".concat(R),type:"checkbox",defaultChecked:null===(o=j.props)||void 0===o?void 0:o.default}),null===(l=j.props)||void 0===l?void 0:l.label]});if("button"===j.type)return(0,s.jsx)("button",{"data-testid":"btn-".concat(R),onClick:()=>F(j.actions),children:null===(r=j.props)||void 0===r?void 0:r.label});if("link"===j.type)return(0,s.jsx)("a",{"data-testid":"link-".concat(R),onClick:()=>F(j.actions),style:{cursor:"pointer",color:"var(--accent)",textDecoration:"underline"},children:null===(d=j.props)||void 0===d?void 0:d.text});if(["textInput","passwordInput","numberInput","textArea","dateTimePicker","chipInput","emojiPicker"].includes(j.type)){let t="textArea"===j.type?"textarea":"input";return(0,s.jsxs)("label",{children:[null===(v=j.props)||void 0===v?void 0:v.label,(0,s.jsx)(t,{"data-testid":"input-".concat(R),type:"passwordInput"===j.type?"password":"numberInput"===j.type?"number":"dateTimePicker"===j.type?"datetime-local":"text",placeholder:null===(f=j.props)||void 0===f?void 0:f.placeholder,onChange:t=>E.setFormValue(R,t.target.value)})]})}if("select"===j.type){let t=(null===(A=j.props)||void 0===A?void 0:A.options)||[],e=t.length>0&&"object"==typeof t[0];return(0,s.jsxs)("label",{children:[null===(_=j.props)||void 0===_?void 0:_.label,(0,s.jsx)("select",{"data-testid":"select-".concat(R),defaultValue:null===(C=j.props)||void 0===C?void 0:C.default,onChange:t=>{let e=t.target.value;E.setFormValue(R,e),F(j.actions,{value:e})},children:e?t.map(t=>(0,s.jsx)("option",{value:t.value,children:t.label},t.value)):t.map(t=>(0,s.jsx)("option",{value:t,children:t},t))})]})}if("segmentedControl"===j.type){let t=(null===(S=j.props)||void 0===S?void 0:S.options)||[],e=t.length>0&&"object"==typeof t[0],a=(null===(k=j.props)||void 0===k?void 0:k.stateBinding)?E.getByPath(j.props.stateBinding):E.controls[R],i=null===(x=j.props)||void 0===x?void 0:x.default,o=a||i;return(0,s.jsx)("div",{style:{display:"flex",gap:"4px",marginBottom:"var(--space-3)"},children:e?t.map(t=>(0,s.jsx)("button",{type:"button",style:{flex:1,padding:"var(--space-2) var(--space-3)",border:o===t.value?"2px solid var(--accent)":"var(--border)",background:o===t.value?"var(--accent-light)":"var(--surface)",borderRadius:"var(--radius-md)",cursor:"pointer",fontSize:"var(--text-meta)"},onClick:()=>{E.setControl(R,t.value),E.setByPath(j.props.stateBinding||"",t.value),F(j.actions,{value:t.value})},children:t.label},t.value)):t.map(t=>(0,s.jsx)("button",{type:"button",style:{flex:1,padding:"var(--space-2) var(--space-3)",border:o===t?"2px solid var(--accent)":"var(--border)",background:o===t?"var(--accent-light)":"var(--surface)",borderRadius:"var(--radius-md)",cursor:"pointer"},onClick:()=>{E.setControl(R,t),F(j.actions,{value:t})},children:t===o?"• ".concat(t):t},t))})}if("card"===j.type){let t=j.dataBinding?E.getByPath(j.dataBinding):null;return(0,s.jsxs)("section",{className:"card","data-testid":"card-".concat(R),children:[(0,s.jsx)("h3",{children:null===(I=j.props)||void 0===I?void 0:I.title}),null===(w=j.components)||void 0===w?void 0:w.map(e=>(0,s.jsx)(b,{component:e,ctx:{...D,data:t}},e.id)),null===(M=j.footerActions)||void 0===M?void 0:M.map(t=>(0,s.jsx)(b,{component:t,ctx:D},t.id))]})}if("actionBar"===j.type)return(0,s.jsx)("div",{className:"card",children:j.components.map(t=>(0,s.jsx)(b,{component:t,ctx:D},t.id))});if("list"===j.type){let t=E.getByPath(j.dataBinding)||[];if(j.filterBinding){let e=j.filterBinding.controlId,a=E.controls[e]||E.getByPath("state.".concat(e))||j.filterBinding.default||"all",s=j.filterBinding.map[a];s&&"*"!==s&&(t=t.filter(t=>t.type===s))}return!t.length&&j.emptyState?(0,s.jsxs)("div",{"data-testid":"list-".concat(R),children:[(0,s.jsx)("strong",{children:j.emptyState.title}),(0,s.jsx)("p",{children:j.emptyState.message})]}):(0,s.jsx)("div",{"data-testid":"list-".concat(R),className:(null===(T=j.props)||void 0===T?void 0:T.className)||"",children:t.map((t,e)=>{var a,i;if((null===(a=j.props)||void 0===a?void 0:a.itemTemplate)==="athleteCard")return(0,s.jsxs)("button",{className:"card","data-testid":"athlete-card-".concat(t.id),onClick:()=>F(j.actions,{item:t}),children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:"8px"},children:[(0,s.jsx)("strong",{children:p(n.templates.athleteCard.title,{...D,item:t})}),t.status&&(0,s.jsx)("span",{className:"badge-".concat(t.status),children:t.status})]}),(0,s.jsx)("span",{children:p(n.templates.athleteCard.subtitle,{...D,item:t})}),(0,s.jsx)("span",{style:{fontSize:"var(--text-meta)",color:"var(--text-secondary)"},children:p(n.templates.athleteCard.meta,{...D,item:t})})]},t.id);if((null===(i=j.props)||void 0===i?void 0:i.itemTemplate)==="timelineCard"){let a=n.templates.timelineCard,i=p(a.badge,{...D,item:t});return(0,s.jsxs)("article",{className:"card ".concat(a.className),"data-testid":"timeline-item-".concat(e),onClick:()=>F(j.actions,{item:t}),style:{cursor:"pointer"},children:[(0,s.jsx)("strong",{children:p(a.title,{...D,item:t})}),(0,s.jsx)("p",{children:p(a.subtitle,{...D,item:t})}),(0,s.jsx)("p",{children:p(a.body,{...D,item:t})}),i&&(0,s.jsx)("span",{className:"feed-item-badge feed-item-badge-strava-sync",children:i}),(0,s.jsx)("span",{style:{fontSize:"var(--text-meta)",color:"var(--text-secondary)"},children:p(a.rightContent,{...D,item:t})})]},t.id||e)}return(0,s.jsx)("article",{className:"card",children:(0,s.jsx)("strong",{children:p(n.templates.stravaCandidateCard.title,{...D,item:t})})},t.id)})})}return(0,s.jsxs)("div",{children:["Unsupported component ",j.type,P]})}function A(t){let{screenId:e,routeParams:a={}}=t;return r.ok?(0,s.jsx)(f,{screenId:e,routeParams:a}):(0,s.jsxs)("main",{className:"page",children:[(0,s.jsx)("h1",{children:"Spec validation error"}),(0,s.jsx)("pre",{children:r.errors.join("\n")})]})}}}]);